NOP
LXI D,5001H
MVI B,24H
MOV A,B
STA 5000H
DCR A
MOV C,A
INR A

FLOOP:SUB C
JZ SUCCESS
JM FAILURE
JP FLOOP

FAILURE:MOV A,C
CPI 01H
JM ENDING
DCR C
MOV A,B
JMP FLOOP

SUCCESS:MOV A,C
STAX D
INR E
DCR C
MOV A,C
CPI 01H
JM ENDING
MOV A,B
JMP FLOOP

ENDING:HLT